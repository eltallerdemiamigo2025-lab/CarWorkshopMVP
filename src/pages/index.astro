---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/sections/Hero.astro';
import ComoFunciona from '../components/sections/ComoFunciona.astro';
import ServicioCompleto from '../components/sections/ServicioCompleto.astro';
import SelectorMarcas from '../components/sections/SelectorMarcas.astro';
import GarantiaSeguridad from '../components/sections/GarantiaSeguridad.astro';

// Importar im√°genes hero
import heroNeumaticoImage from '../assets/heroneumaticos.jpg';

// Datos del Hero
const heroData = {
    title: '<span>Recogemos</span>, Reparamos, <span>Entregamos</span>',
    subtitle: 'Mantenemos a un mec√°nico a tu casa para recoger el coche, lo revisamos y reparamos en nuestro taller. Te lo entregamos de vuelta en tu casa al terminar.',
    image: heroNeumaticoImage,
    socialProof: {
        rating: 4.8,
        reviewCount: 100
    },
    whatsappNumber: "34000000000"
};

// Datos para "C√≥mo Funciona" - proceso de 3 pasos
const pasosServicio = [
    {
        icon: 'bx-calendar-check',
        title: '01. Pide tu cita',
        description: 'Contacta por WhatsApp o ll√°manos. Te asesoramos con las medidas y marcas, y cerramos una hora y lugar para la recogida.'
    },
    {
        icon: 'bxs-car-mechanic', 
        title: '02. Recogida y Reparaci√≥n',
        description: 'Un mec√°nico profesional y de confianza recoge tu veh√≠culo. Lo llevamos a nuestro taller para realizar el servicio completo.'
    },
    {
        icon: 'bx-car',
        title: '03. Entrega y Pago',
        description: 'Te devolvemos tu coche listo para rodar donde nos digas. Puedes pagar c√≥modamente con tarjeta o en efectivo al recibirlo.'
    }
];

// Datos para los servicios incluidos
const serviciosIncluidos = [
    {
        icon: 'bxs-wrench',
        title: 'Montaje Profesional',
        description: 'Instalaci√≥n experta con herramientas especializadas y t√©cnicas profesionales para garantizar tu seguridad.'
    },
    {
        icon: 'bx-time-five',
        title: 'Equilibrado de Ruedas',
        description: 'Equilibrado de precisi√≥n para evitar vibraciones y garantizar el m√°ximo rendimiento de tus neum√°ticos.'
    },
    {
        icon: 'bx-shield-check',
        title: 'Revisi√≥n Completa',
        description: 'Inspecci√≥n del estado de frenos, suspensi√≥n y otros elementos relacionados con la seguridad.'
    },
    {
        icon: 'bx-recycle',
        title: 'Gesti√≥n de Residuos',
        description: 'Reciclaje responsable de los neum√°ticos usados seg√∫n normativas medioambientales.'
    }
];

// Datos de las marcas - Primeras marcas
const marcasPrincipales = [
    { name: 'Continental', logo: 'continental.svg', description: 'Tecnolog√≠a alemana de m√°xima calidad y durabilidad' },
    { name: 'Michelin', logo: 'michelin.svg', description: 'L√≠der mundial en innovaci√≥n y seguridad' },
    { name: 'Dunlop', logo: 'dunlop.svg', description: 'Rendimiento superior para todo tipo de condiciones' },
    { name: 'Firestone', logo: 'firestone.svg', description: 'Confianza y resistencia probadas en el tiempo' },
    { name: 'Hankook', logo: 'hankook.svg', description: 'Tecnolog√≠a avanzada con excelente relaci√≥n calidad-precio' },
    { name: 'Yokohama', logo: 'yokohama.svg', description: 'Innovaci√≥n japonesa para m√°ximo rendimiento' },
    { name: 'Kumho', logo: 'kumho.svg', description: 'Calidad coreana con tecnolog√≠a de vanguardia' }
];

// Marcas de confianza (segunda l√≠nea)
const marcasConfianza = [
    { name: 'SAVA', logo: 'sava.svg', description: 'Calidad europea a precio competitivo' },
    { name: 'Autogreen', logo: 'autogreen.svg', description: 'Opci√≥n econ√≥mica sin comprometer la seguridad' }
];

// Puntos de garant√≠a y seguridad
const puntosDeGarantia = [
    'T√©cnicos certificados con experiencia',
    'Presupuesto cerrado y sin sorpresas',
    'Comunicaci√≥n constante por WhatsApp',
    'Seguro de responsabilidad civil',
    'Recogida y entrega gratuita (pedidos >60‚Ç¨)',
    'Garant√≠a en todos nuestros servicios'
];

// Datos para garant√≠a y seguridad
const garantiasSeguridad = [
    {
        icon: 'bx-shield-check',
        title: 'T√©cnicos Certificados',
        description: 'Profesionales cualificados con a√±os de experiencia en el sector'
    },
    {
        icon: 'bx-money',
        title: 'Presupuesto Sin Sorpresas',
        description: 'Precio cerrado y transparente. Sabes exactamente lo que pagas'
    },
    {
        icon: 'bxl-whatsapp',
        title: 'Comunicaci√≥n Constante',
        description: 'Te mantenemos informado en todo momento v√≠a WhatsApp'
    },
    {
        icon: 'bx-car-mechanic',
        title: 'Seguro de Responsabilidad',
        description: 'Cobertura completa durante todo el proceso de servicio'
    },
    {
        icon: 'bx-home',
        title: 'Recogida Gratuita',
        description: 'Recogida y entrega sin coste en pedidos superiores a 60‚Ç¨'
    },
    {
        icon: 'bx-check-circle',
        title: 'Garant√≠a Completa',
        description: 'Todos nuestros servicios incluyen garant√≠a de calidad'
    }
];

// Datos de servicios principales
const serviciosPrincipales = [
    {
        title: 'Neum√°ticos',
        description: 'Cambio profesional con primeras marcas. Montaje, equilibrado y revisi√≥n completa incluidos.',
        icon: 'bx-trip',
        link: '/neumaticos',
        whatsappMessage: 'Hola, necesito informaci√≥n sobre cambio de neum√°ticos'
    },
    {
        title: 'Bater√≠as', 
        description: 'Sustituci√≥n de bater√≠as con diagn√≥stico del sistema el√©ctrico. Todas las marcas disponibles.',
        icon: 'bx-battery',
        link: '/baterias',
        whatsappMessage: 'Hola, necesito informaci√≥n sobre cambio de bater√≠as'
    },
    {
        title: 'Aceites y Filtros',
        description: 'Cambio de aceite y filtros con productos de calidad. Mantenimiento preventivo completo.',
        icon: 'bx-droplet',
        link: '/filtros', 
        whatsappMessage: 'Hola, necesito informaci√≥n sobre cambio de aceite y filtros'
    }
];
---

<Layout 
    title="El Taller de mi Amigo | Recogemos, Reparamos, Entregamos"
    description="Servicio profesional de mantenimiento de veh√≠culos con recogida y entrega en Madrid. Neum√°ticos, bater√≠as, aceites. Primeras marcas y precios sin sorpresas."
>
    <!-- Hero Principal -->
    <Hero 
        title={heroData.title}
        subtitle={heroData.subtitle}
        image={heroData.image}
        socialProof={heroData.socialProof}
        whatsappNumber={heroData.whatsappNumber}
    />

    <!-- Servicios Principales -->
    <section id="servicios" class="servicios-principales">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Nuestros Servicios</h2>
                <p class="section-subtitle">Ofrecemos servicios completos de mantenimiento con recogida y entrega gratuita</p>
            </div>
            
            <div class="servicios-grid">
                {serviciosPrincipales.map(servicio => (
                    <div class="servicio-card">
                        <div class="servicio-icon">
                            <i class={`bx ${servicio.icon}`}></i>
                        </div>
                        <div class="servicio-content">
                            <h3>{servicio.title}</h3>
                            <p>{servicio.description}</p>
                        </div>
                        <div class="servicio-actions">
                            <a href={`https://wa.me/34000000000?text=${encodeURIComponent(servicio.whatsappMessage)}`} target="_blank" class="btn-whatsapp">
                                <i class='bx bxl-whatsapp'></i>
                                Consultar
                            </a>
                            <a href={servicio.link} class="btn-secondary">
                                Ver m√°s
                            </a>
                        </div>
                    </div>
                ))}
            </div>
            
            <div class="servicios-highlight">
                <div class="highlight-content">
                    <h3>üöó Recogida y Entrega Gratuita</h3>
                    <p>En pedidos superiores a 60‚Ç¨. Servicio disponible en toda la Comunidad de Madrid.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- C√≥mo Funciona -->
    <ComoFunciona 
        steps={pasosServicio}
        guaranteePoints={puntosDeGarantia}
    />

    <!-- Cat√°logo de Marcas -->
    <section id="marcas" class="catalogo-marcas">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Trabajamos con las Mejores Marcas</h2>
                <p class="section-subtitle">Neum√°ticos de primeras marcas y opciones de confianza para todos los presupuestos</p>
            </div>
            
            <SelectorMarcas 
                marcasPrincipales={marcasPrincipales}
                marcasConfianza={marcasConfianza}
                whatsappNumber="34000000000"
            />
        </div>
    </section>

    <!-- Qu√© Incluye el Servicio -->
    <ServicioCompleto items={serviciosIncluidos} />

    <!-- Garant√≠a y Seguridad -->
    <GarantiaSeguridad 
        items={garantiasSeguridad}
        whatsappNumber="34000000000"
    />

    <!-- Ubicaciones y Contacto -->
    <section id="ubicaciones" class="ubicaciones-contacto">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">5 Talleres en Madrid</h2>
                <p class="section-subtitle">M√°s de 100 rese√±as nos avalan. Cobertura en toda la Comunidad de Madrid.</p>
            </div>
            
            <div class="ubicaciones-content">
                <div class="mapa-container">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d194473.4256287842!2d-3.8196846!3d40.4378271!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd422997800a3c81%3A0xc436dec1618c2269!2sMadrid!5e0!3m2!1sen!2ses!4v1647875813645!5m2!1sen!2ses"
                        width="100%" 
                        height="400" 
                        style="border:0;" 
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
                
                <div class="contacto-info">
                    <div class="contacto-card">
                        <div class="contacto-icon">
                            <i class='bx bxl-whatsapp'></i>
                        </div>
                        <div class="contacto-content">
                            <h4>WhatsApp</h4>
                            <p>Respuesta inmediata</p>
                            <a href="https://wa.me/34000000000?text=Hola,%20necesito%20informaci√≥n%20sobre%20sus%20servicios" target="_blank" class="btn-contacto">
                                Contactar Ahora
                            </a>
                        </div>
                    </div>
                    
                    <div class="contacto-card">
                        <div class="contacto-icon">
                            <i class='bx bx-phone'></i>
                        </div>
                        <div class="contacto-content">
                            <h4>Tel√©fono</h4>
                            <p>Atenci√≥n personalizada</p>
                            <a href="tel:+34000000000" class="btn-contacto">
                                Llamar Ahora
                            </a>
                        </div>
                    </div>
                    
                    <div class="stats-card">
                        <div class="stat">
                            <span class="stat-number">5</span>
                            <span class="stat-label">Talleres</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number">100+</span>
                            <span class="stat-label">Rese√±as</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number">24h</span>
                            <span class="stat-label">Respuesta</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</Layout>

<style>
    /* Servicios Principales */
    .servicios-principales {
        padding: clamp(4rem, 10vw, 6rem) 0;
        background-color: var(--color-surface-base);
    }
    
    .section-header {
        text-align: center;
        margin-bottom: 4rem;
    }
    
    .section-title {
        font-size: clamp(2rem, 5vw, 3rem);
        font-weight: 700;
        color: var(--color-text-base);
        margin-bottom: 1rem;
    }
    
    .section-subtitle {
        font-size: 1.2rem;
        color: #B7BABD;
        max-width: 600px;
        margin: 0 auto;
    }
    
    .servicios-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 2rem;
        margin-bottom: 3rem;
    }
    
    .servicio-card {
        background: var(--color-surface-base);
        padding: 2.5rem;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        border: 1px solid var(--color-border);
        transition: all 0.3s ease;
        text-align: center;
    }
    
    .servicio-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }
    
    .servicio-icon {
        font-size: 4rem;
        color: #FFDD00;
        margin-bottom: 1.5rem;
    }
    
    .servicio-content h3 {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: var(--color-text-base);
    }
    
    .servicio-content p {
        color: var(--color-text-muted);
        line-height: 1.6;
        margin-bottom: 2rem;
    }
    
    .servicio-actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
    }
    
    .btn-whatsapp {
        background: #25D366;
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        transition: all 0.3s ease;
    }
    
    .btn-whatsapp:hover {
        background: #128C7E;
        transform: scale(1.05);
    }
    
    .btn-secondary {
        background: transparent;
        color: var(--color-text-base);
        padding: 0.75rem 1.5rem;
        border: 2px solid var(--color-border);
        border-radius: 50px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
    }
    
    .btn-secondary:hover {
        background: var(--color-text-base);
        color: var(--color-surface-base);
    }
    
    .servicios-highlight {
        background: linear-gradient(135deg, #FFDD00 0%, #FFB700 100%);
        padding: 2rem;
        border-radius: 16px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(255, 221, 0, 0.3);
    }
    
    .servicios-highlight h3 {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--color-text-base);
        margin-bottom: 0.5rem;
    }
    
    .servicios-highlight p {
        font-size: 1.1rem;
        color: var(--color-text-base);
        opacity: 0.8;
    }
    
    /* Cat√°logo de Marcas */
    .catalogo-marcas {
        padding: clamp(4rem, 10vw, 6rem) 0;
        background-color: var(--color-surface-muted);
    }
    
    /* Ubicaciones y Contacto */
    .ubicaciones-contacto {
        padding: clamp(4rem, 10vw, 6rem) 0;
        background-color: var(--color-surface-base);
    }
    
    .ubicaciones-content {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 3rem;
        align-items: start;
    }
    
    .mapa-container {
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    
    .contacto-info {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }
    
    .contacto-card {
        background: var(--color-surface-base);
        padding: 2rem;
        border-radius: 16px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        border: 1px solid var(--color-border);
        display: flex;
        align-items: center;
        gap: 1rem;
    }
    
    .contacto-icon {
        font-size: 2.5rem;
        color: #FFDD00;
        flex-shrink: 0;
    }
    
    .contacto-content h4 {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: var(--color-text-base);
    }
    
    .contacto-content p {
        color: var(--color-text-muted);
        margin-bottom: 1rem;
        font-size: 0.9rem;
    }
    
    .btn-contacto {
        background: #FFDD00;
        color: var(--color-text-base);
        padding: 0.5rem 1rem;
        border-radius: 25px;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.9rem;
        transition: all 0.3s ease;
        display: inline-block;
    }
    
    .btn-contacto:hover {
        background: #FFB700;
        transform: scale(1.05);
    }
    
    .stats-card {
        background: linear-gradient(135deg, #FFDD00 0%, #FFB700 100%);
        padding: 2rem;
        border-radius: 16px;
        display: flex;
        justify-content: space-around;
        text-align: center;
    }
    
    .stat-number {
        display: block;
        font-size: 2rem;
        font-weight: 700;
        color: var(--color-text-base);
    }
    
    .stat-label {
        font-size: 0.9rem;
        color: var(--color-text-base);
        opacity: 0.8;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
        .servicios-grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        
        .servicio-card {
            padding: 2rem;
        }
        
        .servicio-actions {
            flex-direction: column;
        }
        
        .ubicaciones-content {
            grid-template-columns: 1fr;
            gap: 2rem;
        }
        
        .contacto-card {
            flex-direction: column;
            text-align: center;
            padding: 1.5rem;
        }
        
        .stats-card {
            flex-direction: column;
            gap: 1rem;
        }
    }
    
    @media (max-width: 480px) {
        .servicio-card {
            padding: 1.5rem;
        }
        
        .servicio-icon {
            font-size: 3rem;
        }
        
        .servicios-highlight {
            padding: 1.5rem;
        }
        
        .contacto-card {
            padding: 1.25rem;
        }
        
        .stats-card {
            padding: 1.5rem;
        }
    }
</style>
